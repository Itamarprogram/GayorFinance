

<Page x:Class="GayorFinance.StockPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
      xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
      Title="StockPage">

    <Grid Background="#FAFAFA" Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Header with stock information -->
        <materialDesign:Card Grid.Row="0" Padding="15" Margin="0,0,0,20">
            <StackPanel>
                <TextBlock x:Name="CompanyName" FontSize="24" FontWeight="Bold" Foreground="{DynamicResource PrimaryHueMidBrush}"
                       Margin="0,0,0,5" TextAlignment="Center" />
                <TextBlock x:Name="Symbol" FontSize="16" Foreground="Gray" Margin="0,0,0,10" TextAlignment="Center" />
                <TextBlock x:Name="Price" FontSize="48" FontWeight="Bold" HorizontalAlignment="Center"
                       Margin="0,0,0,10" TextAlignment="Center" />
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                    <TextBlock x:Name="ChangePrecentage" FontSize="16" FontWeight="Bold" />
                    <TextBlock x:Name="Change" FontSize="16" FontWeight="Bold" Margin="10,0,0,0" />
                </StackPanel>
            </StackPanel>
        </materialDesign:Card>

        <!-- Timeframe Buttons -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,0,0,10">
            <Button Content="5Y" Margin="5,0" Style="{StaticResource MaterialDesignFlatButton}" Click="TimeframeButton_Click"/>
            <Button Content="1Y" Margin="5,0" Style="{StaticResource MaterialDesignFlatButton}" Click="TimeframeButton_Click"/>
            <Button Content="YTD" Margin="5,0" Style="{StaticResource MaterialDesignFlatButton}" Click="TimeframeButton_Click"/>
            <Button Content="5D" Margin="5,0" Style="{StaticResource MaterialDesignFlatButton}" Click="TimeframeButton_Click"/>
            <Button Content="1D" Margin="5,0" Style="{StaticResource MaterialDesignFlatButton}" Click="TimeframeButton_Click"/>

        </StackPanel>

        <!-- Material Design Card for Graph -->
        <materialDesign:Card Grid.Row="2" Margin="0,10,0,0">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>

                <TextBlock Text="Stock Prices" FontSize="18" FontWeight="Bold" Foreground="{DynamicResource PrimaryHueMidBrush}"
                       Margin="10,10,10,0" HorizontalAlignment="Center" />
                <TextBlock x:Name="ChangeFromStart" FontSize="14" FontWeight="Bold" Foreground="Black" />


                <Border Grid.Row="1" BorderBrush="{DynamicResource PrimaryHueMidBrush}" BorderThickness="1" CornerRadius="10" Margin="10">
                    <lvc:CartesianChart x:Name="StockChart" Series="{Binding SeriesCollection}" LegendLocation="Right">
                        <lvc:CartesianChart.AxisX>
                            <lvc:Axis Title="Date" Labels="{Binding Labels}" Separator="{Binding Separator}" />
                        </lvc:CartesianChart.AxisX>
                        <lvc:CartesianChart.AxisY>
                            <lvc:Axis Title="Price" LabelFormatter="{Binding YFormatter}" />
                        </lvc:CartesianChart.AxisY>
                    </lvc:CartesianChart>
                </Border>
            </Grid>
        </materialDesign:Card>
        <!-- Loading Overlay -->
        <Grid x:Name="LoadingOverlay" Background="#AAFFFFFF" Visibility="Collapsed">
            <TextBlock Text="Loading..." FontSize="20" HorizontalAlignment="Center" VerticalAlignment="Center"
                       Foreground="{DynamicResource PrimaryHueMidBrush}" FontWeight="Bold" />
        </Grid>
    </Grid>

</Page>

